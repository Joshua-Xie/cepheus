---
# Data file for building the bootstrapping of Cepheus.
# Templates that use this data file:
#   `bootstrap_prereqs.sh.j2`

build:
    ceph:
        name: luminous
        version: 10.2.6
        domain: example.com

    os:
        type: rhel
        version: 7.3

    chef:
        knife_acl_version: 0.0.12
        client:
            rhel:
                version: 12.19.36
                package: chef-12.19.36-1.el7.x86_64.rpm
        server:
            rhel:
                version: 12.13.0
                package: chef-server-core-12.13.0-1.el7.x86_64.rpm

    # Change the '-' to '_'
    ceph_chef:
        version: 1.1.4
        # These gems are required for the `ceph-chef`
        gems:
            - name: netaddr
              version: 1.5.1
            - name: chef-sugar
              version: 3.4.0

    adc:
        bgp:
            bird:
                rhel: bird-1.5.0-1.x86_64.rpm

    cobbler:
        iso:
            rhel:
                name: centos-7-x86_64-minimal.iso
                url: http://mirror.es.its.nyu.edu/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1611.iso

    python:
        - name: PyYAML
          version: 3.12

    # Cache directories in the format of base/{cookbook,gem...}
    cache:
        base: $HOME/.ceph-cache
        cookbook: cookbooks
        gem: gems
        rpm: rpms
        deb: debs
        python: python
        cobbler: cobbler
        iso: isos
        loader: loaders

    cookbooks:
        - name: poise
          version: 2.7.2
        - name: chef-client
          version: 7.2.0
        - name: windows
          version: 2.1.1
        - name: ohai
          version: 5.0.0
        - name: cron
          version: 4.1.0
        - name: logrotate
          version: 2.1.0
        - name: compat_resource
          version: 12.16.3
        - name: ntp
          version: 3.3.1
        - name: yum
          version: 5.0.0
        - name: yum-epel
          version: 2.1.1
        - name: apt
          version: 6.0.1
        - name: apache2
          version: 3.2.2
        - name: chef_handler
          version: 2.1.0
        - name: firewall
          version: 2.5.4
        - name: chef-sugar
          version: 3.4.0
        - name: sudo
          version: 3.3.1
        - name: collectd
          version: 2.2.4
        - name: collectd_plugins
          version: 2.1.3
        - name: poise-service
          version: 1.4.2
        - name: yumgroup
          version: 0.5.0

    # These gems come from a different source and have a different url format that the ceph-chef gems
    gems:
        - arr-pm-0.0.10
        - backports-3.6.4
        - cabin-0.7.1
        - childprocess-0.5.6
        - clamp-0.6.5
        - ffi-1.9.8
        - fpm-1.3.3
        - json-1.8.2

    # These are required for the build environment to function correctly.
    shell:
        - curl
        - rsync
        - ssh
        - git

    # List of build environment files that *MUST* be built first in order to build system.
    # When building files from templates add them here and it will happen automatically when running ./CEPH_UP
    # Leave off the initial '/'. Scripts will add that if needed.
    # Leave out `build.sh` from this list.
    # Put these in the order you need them to be called in.
    files:
        - "bootstrap/vms/base_environment.sh"
        - "bootstrap/common/bootstrap_validate_env.sh"
        - "bootstrap/common/bootstrap_prereqs.sh"
